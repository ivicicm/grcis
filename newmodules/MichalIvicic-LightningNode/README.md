# Extension: LightningNode
<p align="center"> <img src="https://github.com/ivicicm/grcis/blob/module/lightning/newmodules/MichalIvicic-LightningNode/images/l1.png"/> </p>

### Author: Michal Ivičič

### Category: Static class generating ISceneNode

### Namespace: MichalIvicic

### ClassName: Lightning

### ITimeDependent: No

### Source file: Lightning.cs

The extension enables generating a lightning made of **spheres and cylinders**.  It contains one public static method `Lightning.CreateLightning`. Below are its **mandatory parameters**:

- `begin` - vector of point from which the lightning emerges
- `end` - vector of point where the main branch of the lightning ends
- `r` - radius of the lightning

Then there are **optional parameters**. The results can be unexpected if they are changed a lot. All the lightnings in this documentation are generated by the default parameters.

- `rand` - instance of class `Random` for generating lightning structure

- `points` - number of spheres in the main branch, the spheres are connected by cylinders. Point density in other branches is proportional to `points`
- `nonStraightness` - higher value means the branches will be less straight
- `glowExp` - there is a small glow effect around the lightning cylinders. This parameter affects it's thickness.
- `branches` - number of branches connected to the main branch. Number of branches connected to other branches is proportional to `branches`

**Note on use**: Many of the lightnings don't look good. It might be necessary to generate the lightning multiple times with different seeds in `rand` and then decide which one to use.  The lightning structure depends on the seed and the values of `begin` and `end`. To generate lightning independently of position, use a unit vector for `begin` and 0 for `end` and then translate it to the position you need.

## Example use

The following script should run without without any other dependencies, only `Lightning.cs` is needed. Images in this documentation are generated by it.

### Sample script: LightningScene.cs

## Images

![image-20200607164328962](https://github.com/ivicicm/grcis/blob/module/lightning/newmodules/MichalIvicic-LightningNode/images/l2.png)

![image-20200607164428567](https://github.com/ivicicm/grcis/blob/module/lightning/newmodules/MichalIvicic-LightningNode/images/l3.png)

![image-20200607173840214](https://github.com/ivicicm/grcis/blob/module/lightning/newmodules/MichalIvicic-LightningNode/images/l4.png)
